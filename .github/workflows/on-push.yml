name: onpush
permissions:
  contents: write
  id-token: write
  attestations: write
  actions: write
  checks: write
  deployments: write 
  discussions: write
  issues: write
  models: read
  packages: write
  pages: write
  pull-requests: write
  repository-projects: write
  security-events: write
  statuses: write
on:
  push:
    branches:
      - main
jobs:
  # test:
  #   uses: ./.github/workflows/test.yml
  # version-bump:
  #   needs: test
  #   uses: ./.github/workflows/version-bump.yml
  publish:
    # needs: version-bump
    uses: ./.github/workflows/python-publish.yml
    # with:
    #  user: __token__